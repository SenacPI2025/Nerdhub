{% extends "nucleo/base.html" %}
{% load static %}

{% block title %}Página Inicial - NerdHub{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/style_index.css' %}">
{% endblock %}

{% block content %}

<!-- HERO / BANNER -->
<div class="carousel">
    <div class="carousel-track">
        <img src="{% static 'nucleo/img/banner.png' %}" class="carousel-img">
        <img src="{% static 'nucleo/img/banner2.png' %}" class="carousel-img">
        <img src="{% static 'nucleo/img/banner3.png' %}" class="carousel-img">
    </div>
</div>

<!-- BENEFÍCIOS/ATALHOS -->
<section class="beneficios">
    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_cartao.png' %}" alt="Cartão">
        <p>Em até 12x sem juros</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_carro_entrega.png' %}" alt="Entrega">
        <p>Entrega rápida</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_caixa.png' %}" alt="Caixa">
        <p>Frete grátis</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_pix.png' %}" alt="Pix">
        <p>Selecione o Pix e ganhe 5% de desconto</p>
    </div>
</section>

<!-- BRANDS -->
<section class="marcas-section">
    <div class="brand-background"></div>
    <h3 class="section-title">NAVEGUE POR MARCA FAMOSAS</h3>
    <div class="brand-buttons">
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' 'disney' %}">
            <img src="{% static 'nucleo/img/BannerDisney.png' %}" alt="Disney">
        </a>
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' 'marvel' %}">
            <img src="{% static 'nucleo/img/BannerMarvel.png' %}" alt="Marvel">
        </a>
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' 'star-wars' %}">
            <img src="{% static 'nucleo/img/BannerStarWars.png' %}" alt="Star Wars">
        </a>
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' 'playstation' %}">
            <img src="{% static 'nucleo/img/BannerPlayStation.png' %}" alt="PlayStation">
        </a>
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' 'xbox' %}">
            <img src="{% static 'nucleo/img/BannerXbox.png' %}" alt="Xbox">
        </a>
    </div>
</section>

<!-- PRODUCTS GRID -->
<section class="funkos">
    <div class="container">
        <h2>Produtos em Destaque</h2>
        <div class="funko-grid">
            {% for produto in produtos_destaque|slice:":20" %}
            <div class="funko-item">
                <div class="funko-image-container">
                    <a href="{% url 'nucleo:detalhes_produto' produto.id %}">
                        {% if produto.main_image %}
                        <img src="{{ produto.main_image.url }}" alt="{{ produto.name }}">
                        {% else %}
                        <img src="{% static 'nucleo/img/placeholder_product.png' %}" alt="{{ produto.name }}">
                        {% endif %}
                    </a>
                    {% if user.is_authenticated and produto.stock > 0 %}
                    <a href="#" class="add-to-cart-btn" title="Adicionar ao carrinho">
                        <i class="fa fa-shopping-cart"></i>
                    </a>
                    {% elif not user.is_authenticated %}
                    <a href="{% url 'painel:login' %}" class="login-btn">Entrar</a>
                    {% endif %}
                </div>
                <h3>{{ produto.name }}</h3>
                <p class="price">R$ {{ produto.price|floatformat:2 }}</p>
                {% if produto.stock > 0 %}
                <p class="stock-info in-stock"><i class="fa fa-check-circle"></i> Em estoque</p>
                {% else %}
                <p class="stock-info out-of-stock"><i class="fa fa-times-circle"></i> Fora de estoque</p>
                {% endif %}
            </div>
            {% empty %}
            <p>Nenhum produto em destaque no momento.</p>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}