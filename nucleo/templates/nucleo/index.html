{% extends "nucleo/base.html" %}
{% load static %}

{% block title %}Página Inicial - NerdHub{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/style_index.css' %}">
{% endblock %}

{% block content %}

<!-- HERO / BANNER -->
<div class="carousel">
    <div class="carousel-track">
        <img src="{% static 'nucleo/img/banner.png' %}" class="carousel-img">
        <img src="{% static 'nucleo/img/banner2.png' %}" class="carousel-img">
        <img src="{% static 'nucleo/img/banner3.png' %}" class="carousel-img">
    </div>
</div>

<!-- BENEFITS STRIP -->
<section class="beneficios">
    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_cartao.png' %}" alt="Cartão">
        <p>Em até 12x sem juros</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_carro_entrega.png' %}" alt="Entrega">
        <p>Entrega rápida</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_caixa.png' %}" alt="Caixa">
        <p>Frete grátis</p>
    </div>

    <div class="beneficio-item">
        <img src="{% static 'nucleo/img/icon_pix.png' %}" alt="Pix">
        <p>Selecione o Pix e ganhe 5% de desconto</p>
    </div>
</section>

<!-- BRANDS -->
<section class="marcas-section">
    <div class="brand-background"></div>
    <h3 class="section-title">NAVEGUE POR MARCA FAMOSAS</h3>
    <div class="brand-buttons">
        {% for categoria in categories %}
        <a class="brand-card" href="{% url 'nucleo:produtos_por_marca' categoria.slug %}">
            <!-- Aqui você pode adicionar lógica para mostrar banners diferentes por marca -->
            {% if categoria.name == "Disney" %}
            <img src="{% static 'nucleo/img/BannerDisney.png' %}" alt="{{ categoria.name }}">
            {% elif categoria.name == "Marvel" %}
            <img src="{% static 'nucleo/img/BannerMarvel.png' %}" alt="{{ categoria.name }}">
            {% elif categoria.name == "Star Wars" %}
            <img src="{% static 'nucleo/img/BannerStarWars.png' %}" alt="{{ categoria.name }}">
            {% elif categoria.name == "PlayStation" %}
            <img src="{% static 'nucleo/img/BannerPlayStation.png' %}" alt="{{ categoria.name }}">
            {% elif categoria.name == "Xbox" %}
            <img src="{% static 'nucleo/img/BannerXbox.png' %}" alt="{{ categoria.name }}">
            {% else %}
            <div class="brand-name">{{ categoria.name }}</div>
            {% endif %}
        </a>
        {% empty %}
        <p>Nenhuma marca cadastrada ainda.</p>
        {% endfor %}
    </div>
</section>

<!-- PRODUCTS GRID -->
<section class="funkos">
    <div class="container">
        <h2>Produtos em Destaque</h2>
        <div class="funko-grid">
            {% comment %}
            <!-- Vamos comentar esta parte por enquanto pois precisamos implementar a lógica de produtos em destaque -->
            {% for produto in produtos %}
            <div class="funko-item">
                <div class="funko-image-container">
                    <a href="#">
                        {% if produto.imagem_principal %}
                        <img src="{{ produto.imagem_principal.url }}" alt="{{ produto.nome }}">
                        {% else %}
                        <img src="{% static 'nucleo/img/placeholder_product.png' %}" alt="sem imagem">
                        {% endif %}
                    </a>
                    {% if user.is_authenticated and produto.estoque > 0 %}
                    <a href="{% url 'adicionar_ao_carrinho' produto.id %}" class="add-to-cart-btn" title="Adicionar ao carrinho">
                        <i class="fa fa-shopping-cart"></i>
                    </a>
                    {% elif not user.is_authenticated %}
                    <a href="#" class="login-btn">Entrar</a>
                    {% endif %}
                </div>
                <h3>{{ produto.nome }}</h3>
                <p class="price">R$ {{ produto.preco|floatformat:2 }}</p>
                {% if produto.estoque > 0 %}
                <p class="stock-info" style="color: #28a745;"><i class="fa fa-check-circle"></i> Em estoque</p>
                {% else %}
                <p class="stock-info" style="color: #dc3545;"><i class="fa fa-times-circle"></i> Fora de estoque</p>
                {% endif %}
            </div>
            {% endfor %}
            {% endcomment %}
            <p>Produtos em destaque serão exibidos aqui.</p>
        </div>
    </div>
</section>

{% endblock %}